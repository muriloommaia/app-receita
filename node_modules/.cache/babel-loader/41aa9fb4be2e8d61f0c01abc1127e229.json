{"ast":null,"code":"import _regeneratorRuntime from\"/home/muriloomaia/Documents/gitHub/app-receita/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/muriloomaia/Documents/gitHub/app-receita/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import Dropdown from'../components/ExploreByArea/Dropdown';import RecipesRender from'../components/ExploreByArea/RecipesRender';import Footer from'../components/Footer';import Header from'../components/Header';import fetchApi from'../services/fetchApi';import{changeArea,changeFoodArea}from'../store/dataSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ExploreByArea(){var pathname=window.location.pathname;var dispatch=useDispatch();var actualArea=useSelector(function(state){return state.search.area;});useEffect(function(){function fetchData(_x,_x2){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(end,path){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchApi(end,path);case 2:data=_context.sent;dispatch(changeArea(data.meals.map(function(meal){return meal.strArea;})));case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData({type:'category',category:{categoryType:'area'}},pathname);},[dispatch,pathname]);useEffect(function(){function fetchData(_x3,_x4){return _fetchData2.apply(this,arguments);}function _fetchData2(){_fetchData2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(end,path){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchApi(end,path);case 2:data=_context2.sent;dispatch(changeFoodArea(data));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchData2.apply(this,arguments);}if(actualArea==='All'){fetchData({type:'',category:{search:''}},pathname);}else{fetchData({type:'getByArea',getByArea:{search:actualArea}},pathname);}},[dispatch,pathname,actualArea]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{searchRender:true,title:\"Explorar Origem\"}),/*#__PURE__*/_jsx(Dropdown,{}),/*#__PURE__*/_jsx(RecipesRender,{}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"sources":["/home/muriloomaia/Documents/gitHub/app-receita/src/pages/ExploreByArea.jsx"],"names":["React","useEffect","useDispatch","useSelector","Dropdown","RecipesRender","Footer","Header","fetchApi","changeArea","changeFoodArea","ExploreByArea","pathname","window","location","dispatch","actualArea","state","search","area","fetchData","end","path","data","meals","map","meal","strArea","type","category","categoryType","getByArea"],"mappings":"uUAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,QAAP,KAAqB,sCAArB,CACA,MAAOC,CAAAA,aAAP,KAA0B,2CAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CACA,OAASC,UAAT,CAAqBC,cAArB,KAA2C,oBAA3C,C,wFAEA,cAAe,SAASC,CAAAA,aAAT,EAAyB,CACtC,GAAQC,CAAAA,QAAR,CAAqBC,MAAM,CAACC,QAA5B,CAAQF,QAAR,CACA,GAAMG,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CACA,GAAMc,CAAAA,UAAU,CAAGb,WAAW,CAAC,SAACc,KAAD,QAAWA,CAAAA,KAAK,CAACC,MAAN,CAAaC,IAAxB,EAAD,CAA9B,CACAlB,SAAS,CAAC,UAAM,SACCmB,CAAAA,SADD,2IACd,iBAAyBC,GAAzB,CAA8BC,IAA9B,iJACqBd,CAAAA,QAAQ,CAACa,GAAD,CAAMC,IAAN,CAD7B,QACQC,IADR,eAEER,QAAQ,CAACN,UAAU,CAACc,IAAI,CAACC,KAAL,CAAWC,GAAX,CAAe,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,OAAf,EAAf,CAAD,CAAX,CAAR,CAFF,sDADc,4CAKdP,SAAS,CAAC,CACRQ,IAAI,CAAE,UADE,CAERC,QAAQ,CAAE,CAAEC,YAAY,CAAE,MAAhB,CAFF,CAAD,CAGNlB,QAHM,CAAT,CAID,CATQ,CASN,CAACG,QAAD,CAAWH,QAAX,CATM,CAAT,CAWAX,SAAS,CAAC,UAAM,SACCmB,CAAAA,SADD,+IACd,kBAAyBC,GAAzB,CAA8BC,IAA9B,sJACqBd,CAAAA,QAAQ,CAACa,GAAD,CAAMC,IAAN,CAD7B,QACQC,IADR,gBAEER,QAAQ,CAACL,cAAc,CAACa,IAAD,CAAf,CAAR,CAFF,wDADc,6CAKd,GAAIP,UAAU,GAAK,KAAnB,CAA0B,CACxBI,SAAS,CAAC,CAAEQ,IAAI,CAAE,EAAR,CAAYC,QAAQ,CAAE,CAAEX,MAAM,CAAE,EAAV,CAAtB,CAAD,CAAyCN,QAAzC,CAAT,CACD,CAFD,IAEO,CACLQ,SAAS,CAAC,CACRQ,IAAI,CAAE,WADE,CAERG,SAAS,CAAE,CAAEb,MAAM,CAAEF,UAAV,CAFH,CAAD,CAGNJ,QAHM,CAAT,CAID,CACF,CAbQ,CAaN,CAACG,QAAD,CAAWH,QAAX,CAAqBI,UAArB,CAbM,CAAT,CAeA,mBACE,oCACE,KAAC,MAAD,EAAQ,YAAY,KAApB,CAAqB,KAAK,CAAC,iBAA3B,EADF,cAEE,KAAC,QAAD,IAFF,cAGE,KAAC,aAAD,IAHF,cAIE,KAAC,MAAD,IAJF,GADF,CAQD","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Dropdown from '../components/ExploreByArea/Dropdown';\nimport RecipesRender from '../components/ExploreByArea/RecipesRender';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport fetchApi from '../services/fetchApi';\nimport { changeArea, changeFoodArea } from '../store/dataSlice';\n\nexport default function ExploreByArea() {\n  const { pathname } = window.location;\n  const dispatch = useDispatch();\n  const actualArea = useSelector((state) => state.search.area);\n  useEffect(() => {\n    async function fetchData(end, path) {\n      const data = await fetchApi(end, path);\n      dispatch(changeArea(data.meals.map((meal) => meal.strArea)));\n    }\n    fetchData({\n      type: 'category',\n      category: { categoryType: 'area' },\n    }, pathname);\n  }, [dispatch, pathname]);\n\n  useEffect(() => {\n    async function fetchData(end, path) {\n      const data = await fetchApi(end, path);\n      dispatch(changeFoodArea(data));\n    }\n    if (actualArea === 'All') {\n      fetchData({ type: '', category: { search: '' } }, pathname);\n    } else {\n      fetchData({\n        type: 'getByArea',\n        getByArea: { search: actualArea },\n      }, pathname);\n    }\n  }, [dispatch, pathname, actualArea]);\n\n  return (\n    <div>\n      <Header searchRender title=\"Explorar Origem\" />\n      <Dropdown />\n      <RecipesRender />\n      <Footer />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}