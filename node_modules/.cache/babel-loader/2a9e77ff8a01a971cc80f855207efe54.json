{"ast":null,"code":"import _regeneratorRuntime from\"/home/muriloomaia/Documents/gitHub/app-receita/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/muriloomaia/Documents/gitHub/app-receita/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/muriloomaia/Documents/gitHub/app-receita/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import{useDispatch}from'react-redux';import ButtonRecipe from'../components/Details/ButtonRecipe';import HeaderDetails from'../components/Details/HeaderDetails';import Instructions from'../components/Details/Instructions';import InstructionsInProgress from'../components/Details/InstructionsInProgress';import Recomendations from'../components/Details/Recomendations';import fetchApi from'../services/fetchApi';import{changeDetail}from'../store/detailSlice';import'./css/recipeDetails.css';// pair programming Pedro  e Mu rilo\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RecipeDetails(props){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isFetching=_React$useState2[0],setIsFetching=_React$useState2[1];var pathname=window.location.pathname;var id=props.match.params.id;var dispatch=useDispatch();useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchApi({type:'details',details:{search:id}},pathname);case 2:response=_context.sent;if(response){dispatch(changeDetail(response));setIsFetching(true);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();if(!localStorage.getItem('favoriteRecipes')){localStorage.favoriteRecipes=JSON.stringify([]);}if(!localStorage.getItem('inProgressRecipes')){localStorage.inProgressRecipes=JSON.stringify({cocktails:{},meals:{}});}if(!localStorage.getItem('doneRecipes')){localStorage.doneRecipes=JSON.stringify([]);}fetchData();},[dispatch,id,pathname]);if(!isFetching)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(pathname.includes('progress')){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HeaderDetails,{}),/*#__PURE__*/_jsx(\"div\",{className:\"instructions bg-gray-50 rounded-t-3xl\",children:/*#__PURE__*/_jsx(InstructionsInProgress,{})}),/*#__PURE__*/_jsx(ButtonRecipe,{testBtn:\"finish\"})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HeaderDetails,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-t-3xl\",children:[/*#__PURE__*/_jsx(Instructions,{}),/*#__PURE__*/_jsx(Recomendations,{}),/*#__PURE__*/_jsx(ButtonRecipe,{})]})]});}","map":{"version":3,"sources":["/home/muriloomaia/Documents/gitHub/app-receita/src/pages/RecipeDetails.jsx"],"names":["React","useEffect","useDispatch","ButtonRecipe","HeaderDetails","Instructions","InstructionsInProgress","Recomendations","fetchApi","changeDetail","RecipeDetails","props","useState","isFetching","setIsFetching","pathname","window","location","id","match","params","dispatch","fetchData","type","details","search","response","localStorage","getItem","favoriteRecipes","JSON","stringify","inProgressRecipes","cocktails","meals","doneRecipes","includes"],"mappings":"4eACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,oCAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,qCAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,oCAAzB,CACA,MAAOC,CAAAA,sBAAP,KAAmC,8CAAnC,CACA,MAAOC,CAAAA,cAAP,KAA2B,sCAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CACA,OAASC,YAAT,KAA6B,sBAA7B,CACA,MAAO,yBAAP,CAEA;wFACA,cAAe,SAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAC3C,oBAAoCX,KAAK,CAACY,QAAN,CAAe,KAAf,CAApC,oDAAOC,UAAP,qBAAmBC,aAAnB,qBAEA,GAAQC,CAAAA,QAAR,CAAqBC,MAAM,CAACC,QAA5B,CAAQF,QAAR,CACA,GAA2BG,CAAAA,EAA3B,CAAsCP,KAAtC,CAAQQ,KAAR,CAAiBC,MAAjB,CAA2BF,EAA3B,CACA,GAAMG,CAAAA,QAAQ,CAAGnB,WAAW,EAA5B,CAEAD,SAAS,CAAC,UAAM,CACd,GAAMqB,CAAAA,SAAS,0FAAG,sKACOd,CAAAA,QAAQ,CAC7B,CAAEe,IAAI,CAAE,SAAR,CAAmBC,OAAO,CAAE,CAAEC,MAAM,CAAEP,EAAV,CAA5B,CAD6B,CACiBH,QADjB,CADf,QACVW,QADU,eAIhB,GAAIA,QAAJ,CAAc,CACZL,QAAQ,CAACZ,YAAY,CAACiB,QAAD,CAAb,CAAR,CACAZ,aAAa,CAAC,IAAD,CAAb,CACD,CAPe,sDAAH,kBAATQ,CAAAA,SAAS,0CAAf,CASA,GAAI,CAACK,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAL,CAA8C,CAC5CD,YAAY,CAACE,eAAb,CAA+BC,IAAI,CAACC,SAAL,CAAe,EAAf,CAA/B,CACD,CACD,GAAI,CAACJ,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAAL,CAAgD,CAC9CD,YAAY,CAACK,iBAAb,CAAiCF,IAAI,CAACC,SAAL,CAAe,CAAEE,SAAS,CAAE,EAAb,CAAiBC,KAAK,CAAE,EAAxB,CAAf,CAAjC,CACD,CACD,GAAI,CAACP,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAL,CAA0C,CACxCD,YAAY,CAACQ,WAAb,CAA2BL,IAAI,CAACC,SAAL,CAAe,EAAf,CAA3B,CACD,CACDT,SAAS,GACV,CApBQ,CAoBN,CAACD,QAAD,CAAWH,EAAX,CAAeH,QAAf,CApBM,CAAT,CAqBA,GAAI,CAACF,UAAL,CAAiB,mBAAO,mCAAP,CACjB,GAAIE,QAAQ,CAACqB,QAAT,CAAkB,UAAlB,CAAJ,CAAmC,CACjC,mBACE,oCACE,KAAC,aAAD,IADF,cAEE,YAAK,SAAS,CAAC,uCAAf,uBAEE,KAAC,sBAAD,IAFF,EAFF,cAME,KAAC,YAAD,EAAc,OAAO,CAAC,QAAtB,EANF,GADF,CAUD,CACD,mBACE,oCACE,KAAC,aAAD,IADF,cAEE,aAAK,SAAS,CAAC,0BAAf,wBACE,KAAC,YAAD,IADF,cAEE,KAAC,cAAD,IAFF,cAGE,KAAC,YAAD,IAHF,GAFF,GADF,CAUD","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport ButtonRecipe from '../components/Details/ButtonRecipe';\nimport HeaderDetails from '../components/Details/HeaderDetails';\nimport Instructions from '../components/Details/Instructions';\nimport InstructionsInProgress from '../components/Details/InstructionsInProgress';\nimport Recomendations from '../components/Details/Recomendations';\nimport fetchApi from '../services/fetchApi';\nimport { changeDetail } from '../store/detailSlice';\nimport './css/recipeDetails.css';\n\n// pair programming Pedro  e Mu rilo\nexport default function RecipeDetails(props) {\n  const [isFetching, setIsFetching] = React.useState(false);\n\n  const { pathname } = window.location;\n  const { match: { params: { id } } } = props;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetchApi(\n        { type: 'details', details: { search: id } }, pathname,\n      );\n      if (response) {\n        dispatch(changeDetail(response));\n        setIsFetching(true);\n      }\n    };\n    if (!localStorage.getItem('favoriteRecipes')) {\n      localStorage.favoriteRecipes = JSON.stringify([]);\n    }\n    if (!localStorage.getItem('inProgressRecipes')) {\n      localStorage.inProgressRecipes = JSON.stringify({ cocktails: {}, meals: {} });\n    }\n    if (!localStorage.getItem('doneRecipes')) {\n      localStorage.doneRecipes = JSON.stringify([]);\n    }\n    fetchData();\n  }, [dispatch, id, pathname]);\n  if (!isFetching) return <div>Loading...</div>;\n  if (pathname.includes('progress')) {\n    return (\n      <div>\n        <HeaderDetails />\n        <div className=\"instructions bg-gray-50 rounded-t-3xl\">\n          {/* <Instructions stepProgress=\"ingredient-step\" progress /> */}\n          <InstructionsInProgress />\n        </div>\n        <ButtonRecipe testBtn=\"finish\" />\n      </div>\n    );\n  }\n  return (\n    <div>\n      <HeaderDetails />\n      <div className=\"bg-gray-50 rounded-t-3xl\">\n        <Instructions />\n        <Recomendations />\n        <ButtonRecipe />\n      </div>\n    </div>\n  );\n}\n\nRecipeDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}