{"ast":null,"code":"var _jsxFileName = \"/home/muriloomaia/Documents/gitHub/app-receita/src/components/favoritesAndDone/BodyFavoriteAndDone.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport whiteHeartIcon from \"../../images/whiteHeartIcon.svg\";\nimport blackHeartIcon from \"../../images/blackHeartIcon.svg\";\nimport shareIcon from \"../../images/shareIcon.svg\";\nimport TagsAndDate from './TagsAndDate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst setKeyName = pathname => pathname.includes('favoritas') ? 'favoriteRecipes' : 'doneRecipes';\n\nexport default function BodyFavoriteAndDone() {\n  _s();\n\n  const [favorite] = React.useState(true);\n  const [done, setDone] = React.useState(false);\n  const [clipboard, setClipboard] = React.useState(false);\n  const {\n    filter\n  } = useSelector(state => state.filterFav);\n  const [cards, setCards] = React.useState([]);\n  const {\n    pathname\n  } = window.location;\n  const keyName = setKeyName(pathname);\n\n  if (clipboard) {\n    setTimeout(() => {\n      setClipboard(false);\n    }, 1000);\n  }\n\n  useEffect(() => {\n    const favorites = JSON.parse(localStorage.getItem(keyName));\n\n    if (filter === 'all') {\n      setCards(favorites);\n    } else {\n      const filterFav = favorites.filter(fav => fav.type === filter);\n      setCards(filterFav);\n    }\n\n    if (pathname.includes('feitas')) {\n      setDone(true);\n    }\n  }, [filter, pathname, keyName]);\n\n  const handleClickFavorite = itemObj => {\n    const allFavorites = cards.filter(item => item.id !== itemObj.id);\n    localStorage.setItem(keyName, JSON.stringify(allFavorites));\n    setCards(allFavorites);\n  };\n\n  const favoriteButton = (index, item) => /*#__PURE__*/_jsxDEV(\"button\", {\n    type: \"button\",\n    className: \"bg-transparent border-0\",\n    \"data-testid\": `${index}-horizontal-favorite-btn`,\n    onClick: () => handleClickFavorite(item),\n    src: favorite ? 'blackHeartIcon' : 'whiteHeartIcon',\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: favorite ? blackHeartIcon : whiteHeartIcon,\n      alt: \"favorite icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2 block md:flex\",\n      children: cards && cards.map((item, index) => {\n        const foodOrDrink = item.type === 'comida' ? 'area' : 'alcoholicOrNot';\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex my-2 p-2 md:p-0 border border-primary rounded-lg justify-evenly md:flex-col md:w-auto max-w-none\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `${item.type}s/${item.id}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-row md:flex-col flex-wrap w-80 sm:w-96 md:w-72\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image,\n                alt: item.id,\n                className: \"rounded\",\n                \"data-testid\": `${index}-horizontal-image`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col self-center text-center justify-self-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  \"data-testid\": `${index}-horizontal-top-text`,\n                  className: \"text-lg font-medium\",\n                  children: `${item[foodOrDrink]} - ${item.category}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  \"data-testid\": `${index}-horizontal-name`,\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"bg-transparent border-0\",\n                id: \"liveToastBtn\",\n                \"data-testid\": `${index}-horizontal-share-btn`,\n                onClick: () => {\n                  navigator.clipboard.writeText(`http://localhost:3000/${item.type}s/${item.id}`);\n                  setClipboard(true);\n                },\n                src: shareIcon,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: shareIcon,\n                  alt: \"share icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, this), !done && favoriteButton(index, item)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 19\n            }, this), clipboard && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Link copiado!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 33\n            }, this), done && /*#__PURE__*/_jsxDEV(TagsAndDate, {\n              props: {\n                item,\n                index\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(BodyFavoriteAndDone, \"7+G7taROl/zsSGyodCgPlKWTnF4=\", false, function () {\n  return [useSelector];\n});\n\n_c = BodyFavoriteAndDone;\n\nvar _c;\n\n$RefreshReg$(_c, \"BodyFavoriteAndDone\");","map":{"version":3,"sources":["/home/muriloomaia/Documents/gitHub/app-receita/src/components/favoritesAndDone/BodyFavoriteAndDone.jsx"],"names":["React","useEffect","useSelector","Link","TagsAndDate","setKeyName","pathname","includes","BodyFavoriteAndDone","favorite","useState","done","setDone","clipboard","setClipboard","filter","state","filterFav","cards","setCards","window","location","keyName","setTimeout","favorites","JSON","parse","localStorage","getItem","fav","type","handleClickFavorite","itemObj","allFavorites","item","id","setItem","stringify","favoriteButton","index","blackHeartIcon","whiteHeartIcon","map","foodOrDrink","image","category","name","navigator","writeText","shareIcon"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport whiteHeartIcon from '../../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../../images/blackHeartIcon.svg';\nimport shareIcon from '../../images/shareIcon.svg';\nimport TagsAndDate from './TagsAndDate';\n\nconst setKeyName = (pathname) => (pathname.includes('favoritas')\n  ? 'favoriteRecipes'\n  : 'doneRecipes');\n\nexport default function BodyFavoriteAndDone() {\n  const [favorite] = React.useState(true);\n  const [done, setDone] = React.useState(false);\n  const [clipboard, setClipboard] = React.useState(false);\n  const { filter } = useSelector((state) => state.filterFav);\n  const [cards, setCards] = React.useState([]);\n  const { pathname } = window.location;\n  const keyName = setKeyName(pathname);\n  if (clipboard) {\n    setTimeout(() => {\n      setClipboard(false);\n    }, 1000);\n  }\n  useEffect(() => {\n    const favorites = JSON.parse(localStorage.getItem(keyName));\n    if (filter === 'all') {\n      setCards(favorites);\n    } else {\n      const filterFav = favorites.filter((fav) => fav.type === filter);\n      setCards(filterFav);\n    }\n    if (pathname.includes('feitas')) {\n      setDone(true);\n    }\n  }, [filter, pathname, keyName]);\n  const handleClickFavorite = (itemObj) => {\n    const allFavorites = cards.filter(\n      (item) => item.id !== itemObj.id,\n    );\n    localStorage.setItem(keyName, JSON.stringify(allFavorites));\n    setCards(allFavorites);\n  };\n  const favoriteButton = (index, item) => (\n    <button\n      type=\"button\"\n      className=\"bg-transparent border-0\"\n      data-testid={`${index}-horizontal-favorite-btn`}\n      onClick={() => handleClickFavorite(item)}\n      src={favorite ? 'blackHeartIcon' : 'whiteHeartIcon'}\n    >\n      <img\n        src={favorite ? blackHeartIcon : whiteHeartIcon}\n        alt=\"favorite icon\"\n      />\n    </button>\n  );\n  return (\n    <div>\n      <div className=\"p-2 block md:flex\">\n        {cards\n          && cards.map((item, index) => {\n            const foodOrDrink = item.type === 'comida' ? 'area' : 'alcoholicOrNot';\n            return (\n              <div\n                key={index}\n                className=\"flex my-2 p-2 md:p-0 border border-primary rounded-lg justify-evenly md:flex-col md:w-auto max-w-none\"\n              >\n                <Link to={`${item.type}s/${item.id}`}>\n                  <div className=\"flex flex-row md:flex-col flex-wrap w-80 sm:w-96 md:w-72\">\n                    <img\n                      src={item.image}\n                      alt={item.id}\n                      className=\"rounded\"\n                      data-testid={`${index}-horizontal-image`}\n                    />\n                    <div className=\"flex flex-col self-center text-center justify-self-center\">\n                      <p data-testid={`${index}-horizontal-top-text`}\n                        className=\"text-lg font-medium\"\n                      >\n                        {`${item[foodOrDrink]} - ${item.category}`}\n                      </p>\n                      <p data-testid={`${index}-horizontal-name`}\n                      >{item.name}</p>\n                    </div>\n                  </div>\n                </Link>\n                <div>\n                  <div className=\"flex\">\n                    <button\n                      type=\"button\"\n                      className=\"bg-transparent border-0\"\n                      id=\"liveToastBtn\"\n                      data-testid={`${index}-horizontal-share-btn`}\n                      onClick={() => {\n                        navigator.clipboard.writeText(`http://localhost:3000/${item.type}s/${item.id}`);\n                        setClipboard(true);\n                      }}\n                      src={shareIcon}\n                    >\n                      <img\n                        src={shareIcon}\n                        alt=\"share icon\"\n                      />\n                    </button>\n                    {!done && favoriteButton(index, item)}\n                  </div>\n                  {clipboard && <p>Link copiado!</p>}\n                  {done && <TagsAndDate props={{ item, index }} />}\n                </div>\n              </div>\n            );\n          })}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}