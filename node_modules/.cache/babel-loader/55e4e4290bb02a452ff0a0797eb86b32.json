{"ast":null,"code":"import _defineProperty from\"/home/muriloomaia/Documents/gitHub/app-receita/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/muriloomaia/Documents/gitHub/app-receita/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from'react';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Instructions(_ref){var stepProgress=_ref.stepProgress,progress=_ref.progress;var _useSelector=useSelector(function(state){return state;}),detail=_useSelector.detail;var key=Object.keys(detail)[0];var pathname=window.location.pathname;var recipe=detail[key][0];var strInstructions=recipe.strInstructions;var ingredients=[];var measures=[];function addIngredientsAndMeasures(){var stop=true;for(var i=1;stop;i+=1){if(recipe[\"strIngredient\".concat(i)]===''||!recipe[\"strIngredient\".concat(i)]){stop=false;}else{ingredients.push(recipe[\"strIngredient\".concat(i)]);measures.push(recipe[\"strMeasure\".concat(i)]);}}}var saveLocalStorage=function saveLocalStorage(){var localStorageObj=JSON.parse(localStorage.getItem('inProgressRecipes'));if(pathname.includes('comidas')){var labels=document.querySelector('.all-ingredients');localStorageObj.meals=_objectSpread(_objectSpread({},localStorageObj.meals),{},_defineProperty({},pathname.split('/')[2],labels.innerHTML));}else if(pathname.includes('bebidas')){var _labels=document.querySelector('.all-ingredients');localStorageObj.drinks=_objectSpread(_objectSpread({},localStorageObj.drinks),{},_defineProperty({},pathname.split('/')[2],_labels.innerHTML));}localStorage.setItem('inProgressRecipes',JSON.stringify(localStorageObj));};addIngredientsAndMeasures();var handleChangeProgress=function handleChangeProgress(_ref2){var target=_ref2.target;target.parentNode.classList.toggle('done');saveLocalStorage();};var forNormalRecipe=function forNormalRecipe(ingredient,index){return/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"\".concat(index,\"-\").concat(stepProgress),className:\"ingredients text-lg subpixel-antialiased list-disc text-gray-800\",children:\"\".concat(ingredient,\" - \").concat(measures[index])});};return/*#__PURE__*/_jsxs(\"section\",{className:\"px-4  pt-4 rounded-3xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\" w-14 border-t-4 border-gray-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"all-ingredients mt-8\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg mb-2\",children:\" Ingredients \"}),ingredients.map(function(ingredient,index){return/*#__PURE__*/_jsx(\"div\",{className:\"\",children:forNormalRecipe(ingredient,index)},index);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-2 mt-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold mb-2 text-lg\",children:\" Instructions \"}),/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"instructions \",className:\"text-justify text-gray-700\",children:strInstructions})]})]});}Instructions.defaultProps={progress:false,stepProgress:'ingredient-name-and-measure'};","map":{"version":3,"sources":["/home/muriloomaia/Documents/gitHub/app-receita/src/components/Details/Instructions.jsx"],"names":["React","useSelector","Instructions","stepProgress","progress","state","detail","key","Object","keys","pathname","window","location","recipe","strInstructions","ingredients","measures","addIngredientsAndMeasures","stop","i","push","saveLocalStorage","localStorageObj","JSON","parse","localStorage","getItem","includes","labels","document","querySelector","meals","split","innerHTML","drinks","setItem","stringify","handleChangeProgress","target","parentNode","classList","toggle","forNormalRecipe","ingredient","index","map","defaultProps"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\n\nexport default function Instructions({ stepProgress, progress }) {\n  const { detail } = useSelector((state) => state);\n  const key = Object.keys(detail)[0];\n  const { pathname } = window.location;\n  const recipe = detail[key][0];\n  const { strInstructions } = recipe;\n  const ingredients = [];\n  const measures = [];\n  function addIngredientsAndMeasures() {\n    let stop = true;\n    for (let i = 1; stop; i += 1) {\n      if (recipe[`strIngredient${i}`] === '' || !recipe[`strIngredient${i}`]) {\n        stop = false;\n      } else {\n        ingredients.push(recipe[`strIngredient${i}`]);\n        measures.push(recipe[`strMeasure${i}`]);\n      }\n    }\n  }\n  const saveLocalStorage = () => {\n    const localStorageObj = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    if (pathname.includes('comidas')) {\n      const labels = document.querySelector('.all-ingredients');\n      localStorageObj.meals = {\n        ...localStorageObj.meals,\n        [pathname.split('/')[2]]: labels.innerHTML,\n      };\n    } else if (pathname.includes('bebidas')) {\n      const labels = document.querySelector('.all-ingredients');\n      localStorageObj.drinks = {\n        ...localStorageObj.drinks,\n        [pathname.split('/')[2]]: labels.innerHTML,\n      };\n    }\n    localStorage.setItem('inProgressRecipes', JSON.stringify(localStorageObj));\n  };\n  addIngredientsAndMeasures();\n  const handleChangeProgress = ({ target }) => {\n    target.parentNode.classList.toggle('done');\n    saveLocalStorage();\n  };\n  const forNormalRecipe = (ingredient, index) => (\n    <p data-testid={`${index}-${stepProgress}`} className=\"ingredients text-lg subpixel-antialiased list-disc text-gray-800\">\n      {`${ingredient} - ${measures[index]}`}\n    </p>\n  );\n\n  return (\n    <section className=\"px-4  pt-4 rounded-3xl\">\n      <div className=\"w-full flex justify-center\">\n        <div className=\" w-14 border-t-4 border-gray-500\" />\n      </div>\n      <div className=\"all-ingredients mt-8\">\n      <p className=\"font-bold text-lg mb-2\"> Ingredients </p>\n        {ingredients.map((ingredient, index) => (\n          <div key={index} className=\"\">\n            {\n              forNormalRecipe(ingredient, index)}\n          </div>\n        ))}\n      </div>\n      <div className=\"my-2 mt-5\">\n        <p className=\"font-bold mb-2 text-lg\"> Instructions </p>\n        <p data-testid=\"instructions \"\n          className=\"text-justify text-gray-700\"\n        >{strInstructions}</p>\n      </div>\n    </section>\n  );\n}\n\nInstructions.propTypes = {\n  progress: PropTypes.bool,\n  stepProgress: PropTypes.string,\n};\nInstructions.defaultProps = {\n  progress: false,\n  stepProgress: 'ingredient-name-and-measure',\n};\n"]},"metadata":{},"sourceType":"module"}