{"ast":null,"code":"var _jsxFileName = \"/home/muriloomaia/Documents/gitHub/app-receita/src/components/Details/Instructions.jsx\",\n    _s = $RefreshSig$();\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Instructions(_ref) {\n  _s();\n\n  let {\n    stepProgress,\n    progress\n  } = _ref;\n  const {\n    detail\n  } = useSelector(state => state);\n  const key = Object.keys(detail)[0];\n  const {\n    pathname\n  } = window.location;\n  const recipe = detail[key][0];\n  const {\n    strInstructions\n  } = recipe;\n  const ingredients = [];\n  const measures = [];\n\n  function addIngredientsAndMeasures() {\n    let stop = true;\n\n    for (let i = 1; stop; i += 1) {\n      if (recipe[`strIngredient${i}`] === '' || !recipe[`strIngredient${i}`]) {\n        stop = false;\n      } else {\n        ingredients.push(recipe[`strIngredient${i}`]);\n        measures.push(recipe[`strMeasure${i}`]);\n      }\n    }\n  }\n\n  const saveLocalStorage = () => {\n    const localStorageObj = JSON.parse(localStorage.getItem('inProgressRecipes'));\n\n    if (pathname.includes('comidas')) {\n      const labels = document.querySelector('.all-ingredients');\n      localStorageObj.meals = { ...localStorageObj.meals,\n        [pathname.split('/')[2]]: labels.innerHTML\n      };\n    } else if (pathname.includes('bebidas')) {\n      const labels = document.querySelector('.all-ingredients');\n      localStorageObj.drinks = { ...localStorageObj.drinks,\n        [pathname.split('/')[2]]: labels.innerHTML\n      };\n    }\n\n    localStorage.setItem('inProgressRecipes', JSON.stringify(localStorageObj));\n  };\n\n  addIngredientsAndMeasures();\n\n  const handleChangeProgress = _ref2 => {\n    let {\n      target\n    } = _ref2;\n    target.parentNode.classList.toggle('done');\n    saveLocalStorage();\n  };\n\n  const forNormalRecipe = (ingredient, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n    \"data-testid\": `${index}-${stepProgress}`,\n    className: \"ingredients text-lg subpixel-antialiased list-disc\",\n    children: `${ingredient} - ${measures[index]}`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"px-2 bg-tertiary\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"all-ingredients\",\n      children: ingredients.map((ingredient, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex\",\n        children: forNormalRecipe(ingredient, index)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": \"instructions\",\n        children: strInstructions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Instructions, \"NpfrXuqX/LjQNSIQ1uil5RDHItU=\", false, function () {\n  return [useSelector];\n});\n\n_c = Instructions;\nInstructions.propTypes = {\n  progress: PropTypes.bool,\n  stepProgress: PropTypes.string\n};\nInstructions.defaultProps = {\n  progress: false,\n  stepProgress: 'ingredient-name-and-measure'\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Instructions\");","map":{"version":3,"sources":["/home/muriloomaia/Documents/gitHub/app-receita/src/components/Details/Instructions.jsx"],"names":["PropTypes","React","useSelector","Instructions","stepProgress","progress","detail","state","key","Object","keys","pathname","window","location","recipe","strInstructions","ingredients","measures","addIngredientsAndMeasures","stop","i","push","saveLocalStorage","localStorageObj","JSON","parse","localStorage","getItem","includes","labels","document","querySelector","meals","split","innerHTML","drinks","setItem","stringify","handleChangeProgress","target","parentNode","classList","toggle","forNormalRecipe","ingredient","index","map","propTypes","bool","string","defaultProps"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\n\nexport default function Instructions({ stepProgress, progress }) {\n  const { detail } = useSelector((state) => state);\n  const key = Object.keys(detail)[0];\n  const { pathname } = window.location;\n  const recipe = detail[key][0];\n  const { strInstructions } = recipe;\n  const ingredients = [];\n  const measures = [];\n  function addIngredientsAndMeasures() {\n    let stop = true;\n    for (let i = 1; stop; i += 1) {\n      if (recipe[`strIngredient${i}`] === '' || !recipe[`strIngredient${i}`]) {\n        stop = false;\n      } else {\n        ingredients.push(recipe[`strIngredient${i}`]);\n        measures.push(recipe[`strMeasure${i}`]);\n      }\n    }\n  }\n  const saveLocalStorage = () => {\n    const localStorageObj = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    if (pathname.includes('comidas')) {\n      const labels = document.querySelector('.all-ingredients');\n      localStorageObj.meals = {\n        ...localStorageObj.meals,\n        [pathname.split('/')[2]]: labels.innerHTML,\n      };\n    } else if (pathname.includes('bebidas')) {\n      const labels = document.querySelector('.all-ingredients');\n      localStorageObj.drinks = {\n        ...localStorageObj.drinks,\n        [pathname.split('/')[2]]: labels.innerHTML,\n      };\n    }\n    localStorage.setItem('inProgressRecipes', JSON.stringify(localStorageObj));\n  };\n  addIngredientsAndMeasures();\n  const handleChangeProgress = ({ target }) => {\n    target.parentNode.classList.toggle('done');\n    saveLocalStorage();\n  };\n  const forNormalRecipe = (ingredient, index) => (\n    <p data-testid={ `${index}-${stepProgress}` } className=\"ingredients text-lg subpixel-antialiased list-disc\">\n      {`${ingredient} - ${measures[index]}`}\n    </p>\n  );\n\n  return (\n    <section className=\"px-2 bg-tertiary\">\n      <div className=\"all-ingredients\">\n        { ingredients.map((ingredient, index) => (\n          <div key={ index } className=\"d-flex\">\n            { \n              forNormalRecipe(ingredient, index) }\n          </div>\n        ))}\n      </div>\n      <div>\n        <p data-testid=\"instructions\">{ strInstructions }</p>\n      </div>\n    </section>\n  );\n}\n\nInstructions.propTypes = {\n  progress: PropTypes.bool,\n  stepProgress: PropTypes.string,\n};\nInstructions.defaultProps = {\n  progress: false,\n  stepProgress: 'ingredient-name-and-measure',\n};\n"]},"metadata":{},"sourceType":"module"}