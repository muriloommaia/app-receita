{"ast":null,"code":"import _slicedToArray from\"/home/muriloomaia/Documents/gitHub/app-receita/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import{useSelector}from'react-redux';import{Link}from'react-router-dom';import whiteHeartIcon from\"../../images/whiteHeartIcon.svg\";import blackHeartIcon from\"../../images/blackHeartIcon.svg\";import shareIcon from\"../../images/shareIcon.svg\";import TagsAndDate from'./TagsAndDate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var setKeyName=function setKeyName(pathname){return pathname.includes('favoritas')?'favoriteRecipes':'doneRecipes';};export default function BodyFavoriteAndDone(){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,1),favorite=_React$useState2[0];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),done=_React$useState4[0],setDone=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),clipboard=_React$useState6[0],setClipboard=_React$useState6[1];var _useSelector=useSelector(function(state){return state.filterFav;}),filter=_useSelector.filter;var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];var pathname=window.location.pathname;var keyName=setKeyName(pathname);if(clipboard){setTimeout(function(){setClipboard(false);},1000);}useEffect(function(){var favorites=JSON.parse(localStorage.getItem(keyName));if(filter==='all'){setCards(favorites);}else{var filterFav=favorites.filter(function(fav){return fav.type===filter;});setCards(filterFav);}if(pathname.includes('feitas')){setDone(true);}},[filter,pathname,keyName]);var handleClickFavorite=function handleClickFavorite(itemObj){var allFavorites=cards.filter(function(item){return item.id!==itemObj.id;});localStorage.setItem(keyName,JSON.stringify(allFavorites));setCards(allFavorites);};var favoriteButton=function favoriteButton(index,item){return/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"bg-transparent border-0 ml-3\",\"data-testid\":\"\".concat(index,\"-horizontal-favorite-btn\"),onClick:function onClick(){return handleClickFavorite(item);},src:favorite?'blackHeartIcon':'whiteHeartIcon',children:/*#__PURE__*/_jsx(\"img\",{src:favorite?blackHeartIcon:whiteHeartIcon,alt:\"favorite icon\"})});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"p-2 px-4 block md:flex md:flex-wrap\",children:cards&&cards.map(function(item,index){var foodOrDrink=item.type==='comida'?'area':'alcoholicOrNot';return/*#__PURE__*/_jsxs(\"div\",{className:\"flex my-2 p-2 md:p-0 border border-primary rounded-lg justify-evenly md:flex-col md:w-auto max-w-none md:mr-3 md:opacity-90 md:mb-3 ml-0 md:ml-4 shadow-xl transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-105 hover:opacity-100\",children:[/*#__PURE__*/_jsx(Link,{to:\"\".concat(item.type,\"s/\").concat(item.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row md:flex-col flex-wrap sm:w-96 md:w-72\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.id,className:\"w-1/3 rounded-lg md:w-auto\",\"data-testid\":\"\".concat(index,\"-horizontal-image\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col self-center text-center justify-self-center place-self-center mt-3 mx-auto\",children:[/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"\".concat(index,\"-horizontal-top-text\"),className:\"text-lg font-medium italic\",children:\"\".concat(item[foodOrDrink],\" - \").concat(item.category)}),/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"\".concat(index,\"-horizontal-name\"),className:\"text-xl\",children:item.name})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:text-center flex flex-col justify-center w-1/4 md:m-auto md:pb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center my-3 mr-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"bg-transparent border-0\",id:\"liveToastBtn\",\"data-testid\":\"\".concat(index,\"-horizontal-share-btn\"),onClick:function onClick(){navigator.clipboard.writeText(\"http://localhost:3000/\".concat(item.type,\"s/\").concat(item.id));setClipboard(true);},src:shareIcon,children:/*#__PURE__*/_jsx(\"img\",{src:shareIcon,alt:\"share icon\"})}),!done&&favoriteButton(index,item)]}),clipboard&&/*#__PURE__*/_jsx(\"p\",{children:\"Link copiado!\"}),done&&/*#__PURE__*/_jsx(TagsAndDate,{props:{item:item,index:index}})]})]},index);})})});}","map":{"version":3,"sources":["/home/muriloomaia/Documents/gitHub/app-receita/src/components/favoritesAndDone/BodyFavoriteAndDone.jsx"],"names":["React","useEffect","useSelector","Link","TagsAndDate","setKeyName","pathname","includes","BodyFavoriteAndDone","useState","favorite","done","setDone","clipboard","setClipboard","state","filterFav","filter","cards","setCards","window","location","keyName","setTimeout","favorites","JSON","parse","localStorage","getItem","fav","type","handleClickFavorite","itemObj","allFavorites","item","id","setItem","stringify","favoriteButton","index","blackHeartIcon","whiteHeartIcon","map","foodOrDrink","image","category","name","navigator","writeText","shareIcon"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport whiteHeartIcon from '../../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../../images/blackHeartIcon.svg';\nimport shareIcon from '../../images/shareIcon.svg';\nimport TagsAndDate from './TagsAndDate';\n\nconst setKeyName = (pathname) => (pathname.includes('favoritas')\n  ? 'favoriteRecipes'\n  : 'doneRecipes');\n\nexport default function BodyFavoriteAndDone() {\n  const [favorite] = React.useState(true);\n  const [done, setDone] = React.useState(false);\n  const [clipboard, setClipboard] = React.useState(false);\n  const { filter } = useSelector((state) => state.filterFav);\n  const [cards, setCards] = React.useState([]);\n  const { pathname } = window.location;\n  const keyName = setKeyName(pathname);\n  if (clipboard) {\n    setTimeout(() => {\n      setClipboard(false);\n    }, 1000);\n  }\n  useEffect(() => {\n    const favorites = JSON.parse(localStorage.getItem(keyName));\n    if (filter === 'all') {\n      setCards(favorites);\n    } else {\n      const filterFav = favorites.filter((fav) => fav.type === filter);\n      setCards(filterFav);\n    }\n    if (pathname.includes('feitas')) {\n      setDone(true);\n    }\n  }, [filter, pathname, keyName]);\n  const handleClickFavorite = (itemObj) => {\n    const allFavorites = cards.filter(\n      (item) => item.id !== itemObj.id,\n    );\n    localStorage.setItem(keyName, JSON.stringify(allFavorites));\n    setCards(allFavorites);\n  };\n  const favoriteButton = (index, item) => (\n    <button\n      type=\"button\"\n      className=\"bg-transparent border-0 ml-3\"\n      data-testid={`${index}-horizontal-favorite-btn`}\n      onClick={() => handleClickFavorite(item)}\n      src={favorite ? 'blackHeartIcon' : 'whiteHeartIcon'}\n    >\n      <img\n        src={favorite ? blackHeartIcon : whiteHeartIcon}\n        alt=\"favorite icon\"\n      />\n    </button>\n  );\n  return (\n    <div>\n      <div className=\"p-2 px-4 block md:flex md:flex-wrap\">\n        {cards\n          && cards.map((item, index) => {\n            const foodOrDrink = item.type === 'comida' ? 'area' : 'alcoholicOrNot';\n            return (\n              <div\n                key={index}\n                className=\"flex my-2 p-2 md:p-0 border border-primary rounded-lg justify-evenly md:flex-col md:w-auto max-w-none md:mr-3\n                md:opacity-90 md:mb-3 ml-0 md:ml-4 shadow-xl transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-105 hover:opacity-100\"\n              >\n                <Link to={`${item.type}s/${item.id}`}>\n                  <div className=\"flex flex-row md:flex-col flex-wrap sm:w-96 md:w-72\">\n                    <img\n                      src={item.image}\n                      alt={item.id}\n                      className=\"w-1/3 rounded-lg md:w-auto\"\n                      data-testid={`${index}-horizontal-image`}\n                    />\n                    <div className=\"flex flex-col self-center text-center justify-self-center place-self-center mt-3 mx-auto\">\n                      <p data-testid={`${index}-horizontal-top-text`}\n                        className=\"text-lg font-medium italic\"\n                      >\n                        {`${item[foodOrDrink]} - ${item.category}`}\n                      </p>\n                      <p data-testid={`${index}-horizontal-name`}\n                      className=\"text-xl\"\n                      >{item.name}</p>\n                    </div>\n                  </div>\n                </Link>\n                <div className=\"md:text-center flex flex-col justify-center w-1/4 md:m-auto md:pb-2\">\n                  <div className=\"flex justify-center items-center my-3 mr-3\">\n                    <button\n                      type=\"button\"\n                      className=\"bg-transparent border-0\"\n                      id=\"liveToastBtn\"\n                      data-testid={`${index}-horizontal-share-btn`}\n                      onClick={() => {\n                        navigator.clipboard.writeText(`http://localhost:3000/${item.type}s/${item.id}`);\n                        setClipboard(true);\n                      }}\n                      src={shareIcon}\n                    >\n                      <img\n                        src={shareIcon}\n                        alt=\"share icon\"\n                      />\n                    </button>\n                    {!done && favoriteButton(index, item)}\n                  </div>\n                  {clipboard && <p>Link copiado!</p>}\n                  {done && <TagsAndDate props={{ item, index }} />}\n                </div>\n              </div>\n            );\n          })}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}